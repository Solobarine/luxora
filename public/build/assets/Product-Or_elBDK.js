import{r as b,j as e,y as j}from"./app-CdyAb62z.js";import{P as v}from"./PrimaryButton-CnHliKmR.js";import{g as N}from"./product-Bp7SpGmX.js";const C=({itemId:x,product:p,setProduct:c})=>{const[l,g]=b.useState([]),{images:t,name:n,brand:u,attributes:h,price:f}=p;console.log(l);const d=N(h),m=s=>{const r=l.filter(a=>a.name!==s.name);g(r?[...r,s]:[s])};return e.jsxs(e.Fragment,{children:[e.jsx("div",{id:"overlay",className:"fixed inset-0 bg-gray-800/40 backdrop-blur-sm",onClick:()=>c(null)}),e.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform w-[98%] p-4 md:p-6 max-w-4xl mx-auto bg-white dark:bg-gray-900 rounded-lg shadow-lg",children:[e.jsx("button",{className:"absolute top-2 right-2 text-3xl font-bold hover:text-red-500 transition-colors duration-300",onClick:()=>c(null),children:"Ã—"}),e.jsxs("div",{className:"flex flex-col sm:flex-row mt-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"bg-gray-300 h-16 w-16 sm:h-64 sm:w-64 aspect-square rounded-lg overflow-hidden",children:e.jsx("img",{src:t&&t[0].image_url,alt:n,className:"object-cover h-full aspect-square"})}),e.jsx("div",{className:"hidden sm:flex flex-wrap gap-2 sm:flex-col sm:gap-4",children:t==null?void 0:t.slice(1).map((s,r)=>e.jsx("div",{className:"bg-gray-300 h-16 w-16 rounded-lg cursor-pointer overflow-hidden",children:e.jsx("img",{src:s.image_url,alt:"",className:"object-cover w-full h-full"})},r))})]}),e.jsxs("div",{className:"w-full sm:pl-9 mt-6 sm:mt-0",children:[e.jsx("h1",{className:"text-lg font-bold",children:n}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 my-2 capitalize",children:u}),e.jsxs("p",{className:"text-3xl text-gray-800 dark:text-gray-100",children:["$",f]}),e.jsx("div",{className:"mt-4",children:Object.keys(d).map((s,r)=>s==="Tags"?null:s==="Colors"?e.jsxs("div",{className:"my-4",children:[e.jsx("label",{className:"block text-sm font-medium",children:s}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:d[s].map((a,o)=>e.jsx("span",{className:`block w-8 h-8 rounded-full cursor-pointer border-4 ${l.find(i=>i.id===a.id)?"border-green-600":"border-transparent"}`,style:{backgroundColor:a.value},onClick:()=>m(a)},o))})]},r):e.jsxs("div",{className:"my-4",children:[e.jsx("label",{className:"block text-sm font-medium",children:s}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:d[s].map((a,o)=>e.jsx("span",{className:`px-4 py-1 border-2 rounded-md cursor-pointer  hover:bg-gray-100 dark:hover:bg-gray-800 transition ${l.find(i=>i.id===a.id)?"border-green-600":"border-gray-300 dark:border-gray-500"}`,onClick:()=>m(a),children:a.value},o))})]},r))}),e.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2 mt-6",children:e.jsx(v,{onClick:()=>{const s={attribute_ids:l.map(r=>({id:r.id}))};j.patch(route("cart.update_item",x),s,{onSuccess:()=>c(null)})},children:"Apply"})})]})]})]})]})};export{C as default};
