import{j as e,r as b,W as y,a as N}from"./app-CdyAb62z.js";import{L as f}from"./Links-41MpBjnD.js";import{L as v}from"./Layout-B-QGFrgH.js";import"./Footer-CkGs-GPJ.js";const o=({rating:r})=>e.jsx("div",{className:"flex",children:[...Array(5)].map((a,t)=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t<r?"#fbbf24":"none",viewBox:"0 0 30 30",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l2.309 7.062a1.125 1.125 0 001.07.77h7.323c.969 0 1.371 1.24.588 1.81l-5.926 4.195a1.125 1.125 0 00-.412 1.255l2.31 7.062c.3.921-.755 1.688-1.54 1.188l-5.926-4.195a1.125 1.125 0 00-1.316 0l-5.926 4.195c-.785.5-1.84-.267-1.54-1.188l2.309-7.062a1.125 1.125 0 00-.412-1.255L.68 12.57c-.783-.57-.381-1.81.588-1.81h7.323a1.125 1.125 0 001.07-.77l2.31-7.062z"})},t))}),w=({review:r})=>{console.log(r);const{user:a,comment:t,rating:l}=r;return e.jsxs("div",{className:"flex items-start gap-x-6 gap-y-6 flex-wrap p-6 bg-white dark:bg-gray-900 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex items-start gap-4 w-full lg:w-auto",children:[e.jsx("img",{src:"https://via.placeholder.com/50",alt:a==null?void 0:a.name,className:"rounded-full w-16 h-16 object-cover bg-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:a==null?void 0:a.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Spend:"," ",e.jsx("strong",{className:"text-gray-900 dark:text-gray-100",children:"$400"})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Reviews:"," ",e.jsx("strong",{className:"text-gray-900 dark:text-gray-100",children:"14"})]})]})]}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(o,{rating:l}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"24-10-2024"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:t})]})]})},L=({reviews:r,product_id:a})=>{const{data:t,links:l}=r,[g,n]=b.useState(!1),{data:d,setData:c,post:h,reset:j}=y({rating:0,comment:""}),x=345,m=4.2,u=[{rating:5,amount:200},{rating:4,amount:90},{rating:3,amount:30},{rating:2,amount:15},{rating:1,amount:10}],p=s=>{s.preventDefault(),h(`/products/${a}/reviews`,{onSuccess:()=>{j(),n(!1)}})};return e.jsx(v,{children:e.jsxs("div",{className:"py-4 px-4 sm:px-10 dark:bg-gray-800 min-h-screen",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-7xl mx-auto grid gap-5",children:[e.jsx(N,{href:`/products/${a}`,className:"text-sm text-blue-500 hover:text-blue-700 transition",children:"View Product"}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-200",children:"Reviews Summary"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Based on ",x," reviews"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{rating:m}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 ml-4",children:m.toFixed(1)})]})]}),e.jsx("div",{className:"space-y-4",children:u.map((s,i)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 w-12 text-nowrap",children:[s.rating," Stars"]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mx-4",children:e.jsx("div",{className:"bg-blue-500 h-4 rounded-full",style:{width:`${s.amount/x*100}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 text-nowrap",children:[s.amount," reviews"]})]},i))}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition",onClick:()=>n(!0),children:"Add Review"})})]})}),t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-y-6 gap-x-6 mt-10",children:t.map((s,i)=>e.jsx(w,{review:s},i))}),e.jsx("div",{className:"mt-8",children:e.jsx(f,{links:l})})]}):e.jsx("div",{className:"min-h-80 grid place-content-center",children:e.jsx("h2",{className:"text-3xl font-semibold",children:"No Reviews Yet"})}),g&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-lg w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add or Update Review"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rating"}),e.jsxs("select",{className:"w-full p-2 border rounded-lg",value:d.rating,onChange:s=>c("rating",Number(s.target.value)),children:[e.jsx("option",{value:0,children:"Select Rating"}),[1,2,3,4,5].map(s=>e.jsxs("option",{value:s,children:[s," Star",s>1&&"s"]},s))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Comment"}),e.jsx("textarea",{className:"w-full p-2 border rounded-lg",value:d.comment,onChange:s=>c("comment",s.target.value),rows:4})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>n(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition",children:"Submit"})]})]})]})})]})})};export{L as default};
