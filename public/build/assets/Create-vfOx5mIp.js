import{r as t,j as e}from"./app-CdyAb62z.js";import{A as R}from"./AuthenticatedLayout-CzvU5MSg.js";import"./ApplicationLogo-Cz6wdwTY.js";import"./transition-C5EDH36f.js";import"./Footer-CkGs-GPJ.js";const z=({auth:x})=>{const[g,y]=t.useState(""),[d,k]=t.useState(""),[p,N]=t.useState(null),[u,j]=t.useState(""),[l,v]=t.useState(0),[m,w]=t.useState(0),[C,S]=t.useState([]),[b,A]=t.useState([]),[P,F]=t.useState([]),[o,D]=t.useState([]),[i,q]=t.useState(""),[n,h]=t.useState(""),E=()=>{if(i.trim()&&n.trim()){const r=o.find(a=>a.name===i);r?r.values.push(n):D([...o,{name:i,values:[n]}]),h("")}};t.useEffect(()=>{(async()=>{S([{id:1,name:"Electronics"},{id:2,name:"Books"},{id:3,name:"Clothing"}])})()},[]);const $=r=>{const a=Array.from(r.target.files||[]);A(a);const f=a.map(s=>URL.createObjectURL(s));F(f)},I=r=>{r.preventDefault();const a=new FormData;a.append("name",g),a.append("brand",d),a.append("description",u),a.append("price",l.toString()),a.append("stock_quantity",m.toString()),a.append("brand",d),o.forEach((s,c)=>{s.values.forEach((Q,B)=>{a.append(`options[${c}][name]`,s.name),a.append(`options[${c}][values][${B}]`,Q)})}),b.forEach((s,c)=>{a.append(`images[${c}]`,s)}),console.log("Product Data: ",{name:g,brand:d,category_id:p,description:u,price:l,stock_quantity:m,options:o,images:b})};return console.log(b),e.jsx(R,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Create New Product"}),user:x.user,children:e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs("form",{onSubmit:I,className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg grid grid-cols-1 sm:grid-cols-2 gap-y-6 gap-x-2 items-start",children:[e.jsxs("div",{className:"grid space-y-1",children:[e.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium",children:"Product Name"}),e.jsx("input",{type:"text",id:"productName",value:g,onChange:r=>y(r.target.value),className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:!0})]}),e.jsxs("div",{className:"grid space-y-1",children:[e.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium",children:"Brand (Optional)"}),e.jsx("input",{type:"text",id:"brand",value:d,onChange:r=>k(r.target.value),className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"})]}),e.jsxs("div",{className:"grid space-y-1",children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium",children:"Category"}),e.jsxs("select",{id:"category",value:p||"",onChange:r=>N(Number(r.target.value)),className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select a category"}),C.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{className:"grid space-y-1 sm:col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium",children:"Description"}),e.jsx("textarea",{id:"description",value:u,onChange:r=>j(r.target.value),rows:4,className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:!0})]}),e.jsxs("div",{className:"grid space-y-1",children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium",children:"Price ($)"}),e.jsx("input",{type:"number",id:"price",value:l,onChange:r=>v(Number(r.target.value)),className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",step:"0.01",required:!0})]}),e.jsxs("div",{className:"grid space-y-1",children:[e.jsx("label",{htmlFor:"stockQuantity",className:"block text-sm font-medium",children:"Stock Quantity"}),e.jsx("input",{type:"number",id:"stockQuantity",value:m,onChange:r=>w(Number(r.target.value)),className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:!0})]}),e.jsxs("div",{className:"grid space-y-1 sm:col-span-2",children:[e.jsx("label",{htmlFor:"attributes",className:"block text-sm font-medium",children:"Attributes"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Attribute Name",value:i,onChange:r=>q(r.target.value),className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"}),e.jsx("input",{type:"text",placeholder:"Attribute Value",value:n,onChange:r=>h(r.target.value),className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"}),e.jsx("button",{type:"button",onClick:E,className:"bg-indigo-600 text-white py-1 px-2 rounded-md shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add Attribute"})]}),e.jsx("div",{className:"mt-4",children:o.map((r,a)=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("strong",{children:[r.name,":"]})," ",r.values.join(", ")]},a))})]}),e.jsxs("div",{className:"grid space-y-1",children:[e.jsx("label",{htmlFor:"images",className:"block text-sm font-medium",children:"Upload Images"}),e.jsx("input",{type:"file",id:"images",onChange:$,multiple:!0,className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm p-2",accept:"image/*"}),e.jsx("div",{className:"flex flex-wrap mt-4 space-x-4",children:P.map((r,a)=>e.jsx("img",{src:r,alt:`Product Image ${a+1}`,className:"w-20 h-20 object-cover rounded-lg shadow-sm"},a))})]}),e.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 col-start-1",children:"Create Product"})]})})})};export{z as default};
